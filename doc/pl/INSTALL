         WWWOFFLE - Eksplorator Offline World Wide Web - Wersja 2.6
         ==========================================================


Wymagane jest tylko 10 kroków, aby zainstalowaæ WWWOFFLE z kodu ¼ród³owego do
w pe³ni pracuj±cego i przetestowanego programu. Je¶li u¿ywasz wydania binarnego
(Win32), wtedy powiniene¶ pomin±æ pierwsze 3 kroki.

Kompilacja
----------

Nastêpne dziesiêæ kroków powinno byæ wystarczaj±ce do zademonstrowania
dzia³aj±cego WWWOFFLE.

1) Wyedytuj plik Makefile i ustaw poni¿sze parametry:
        Nazwê i port serwera (LOCALHOST)         - domy¶lnie localhost:8080
        Miejsce zainstalowania (INSTDIR)         - domy¶lnie /usr/local
        Katalog buforowanych stron (SPOOLDIR)    - domy¶lnie /var/spool/wwwoffle
        Po³o¿enie pliku konfiguracji (CONFDIR)   - domy¶lnie /var/spool/wwwoffle
        Opcjonalnie jêzyk stron web (LANG)       - domy¶lnie tylko Angielski
        Opcje kompilatora (CC i CFLAGS).
   (Plik Makefile zawiera pewne specyficzne opcje maszyn dla systemów
    nielinuksowych, które mog± wymagaæ odkomentowania.)

2) Skompiluj programy
     make all

        **** Wa¿ne ****
   Od tej wersji WWWOFFLE naprzód, nie bêdê dostarcza³ kodu ¼ród³owego C, który
   jest generowany z plików ¼ród³owych lex (*.l). Oznacza to, ¿e bêdziesz
   potrzebowa³ zainstalowanej i dzia³aj±cej wersji lex lub flex, aby skompilowaæ
   WWWOFFLE.
        **** Wa¿ne ****


3) Zainstaluj programy i utwórz katalog buforowanych stron (spool)
     make install

        **** Wa¿ne ****
   Je¶li ju¿ u¿ywasz WWWOFFLE, powiniene¶ zatrzymaæ obecnie dzia³aj±c± wersjê
   programu, zanim przeprowadzisz instalacjê nowej wersji.
        **** Wa¿ne ****

   Powiniene¶ zwróciæ uwagê na komunikaty podawane przez make, które poprzedzone
   s± ci±giem znaków 'WWWOFFLE:', informacje te s± wa¿ne i oznaczaj±, ¿e proces
   instalacji napotka³ na co¶, co wymaga twoj interwencji.

        **** Wa¿ne * Je¶li obecnie u¿ywasz wersji 2.0/2.1 ****
    *MUSISZ* uruchomiæ program endian-cache, aby przekonwertowaæ twój bufor z
    zaniechanego formatu wersji 2.0/2.1 do formatu wersji 2.2. Przeczytaj plik
    CONVERT, aby zasiêgn±æ wiêcej szczegó³owych informacji.
        **** Wa¿ne * Je¶li obecnie u¿ywasz wersji 2.0/2.1 ****

        **** Wa¿ne * Je¶li obecnie u¿ywasz wersji 1.x ****
    *MUSISZ* uruchomiæ program upgrade-cache, aby przekonwertowaæ twój bufor z
    formatu wersji 1.x do formatu wersji 2.x. Przeczytaj plik UPGRADE, aby
    zasiêgn±æ wiêcej szczegó³owych informacji.
        **** Wa¿ne * Je¶li obecnie u¿ywasz wersji 1.x ****


Konfiguracja
------------

4) Wyedytuj plik konfiguracji.
   wwwoffle.conf

        **** Wa¿ne * Je¶li musisz u¿ywaæ zewnêtrznego serwera proxy HTTP ****
    Bêdziesz potrzebowa³ dodania nazwy proxy i numeru portu do pliku
    konfiguracji wwwoffle.conf, w nim zawarte s± instrukcje.
        **** Wa¿ne * Je¶li musisz u¿ywaæ zewnêtrznego serwera proxy HTTP ****

        **** Wa¿ne * Je¶li obecnie u¿ywasz wersji 1.x ****
    Plik konfiguracji wwwoffle.conf zosta³ zmieniony, plik CHANGES.CONF wyja¶nia
    ró¿nice od wersji 1.3.
        **** Wa¿ne * Je¶li obecnie u¿ywasz wersji 1.x ****

        **** Wa¿ne * Je¶li obecnie u¿ywasz wersji 2.x ****
    Plik konfiguracji wwwoffle.conf zosta³ zmieniony, plik CHANGES.CONF wyja¶nia
    ró¿nice, natomiast upgrade-config.pl mo¿e naprawiæ je.
        **** Wa¿ne * Je¶li obecnie u¿ywasz wersji 2.x ****

5) Uruchom dzia³anie demona WWWOFFLE.
   wwwoffled -c wwwoffle.conf

6) Uruchom twoj± Przegl±darkê WWW i ustaw localhost:8080 jako proxy.
   Zablokuj buforowanie pomiêdzy sesjami w przegl±darce.


Testowanie
----------

7) a) Po³±cz siê z Internetem
   b) Przeka¿ demonowi WWWOFFLE, ¿e jeste¶ po³±czony
        wwwoffle -online
   c) Rozpocznij przegl±danie
   d) Przeka¿ demonowi WWWOFFLE, ¿e jeste¶ roz³±czony
        wwwoffle -offline
   e) Roz³±cz siê z Internetem

8) Powróæ i przegl±dnij ponownie strony, przy braku po³±czenia, przejdæ do
   ³±czy, których nie odwiedzi³e¶ tym razem (zobaczysz komunikat serwera
   WWWOFFLE w przegl±darce).

9) a) Po³±cz siê z Internetem
   b) Przeka¿ demonowi WWWOFFLE, ¿e jeste¶ po³±czony
        wwwoffle -online
   c) Przeka¿ demonowi WWWOFFLE, aby pobra³ nowe strony
        wwwoffle -fetch
   d) Przeka¿ demonowi WWWOFFLE, ¿e jeste¶ roz³±czony
        wwwoffle -offline
   e) Roz³±cz siê z Internetem

10)a) Przejd¼ do http://localhost:8080/index/ i odszukaj nowo pobrane strony.
   b) Przegl±dnij nowe strony, które w³a¶nie zosta³y pobrane.




Opcje Czasu Kompilacji
----------------------

W pliku wwwoffle.h znajduje siê wiele dodatkowych opcji czasu kompilacji, które
byæ mo¿e bêdziesz chcia³ zmieniæ.


Pierwsze trzy s± wkompilowane jako domy¶le warto¶ci opcji w sekcji StartUp
pliku wwwoffle.conf. S± one równie¿ u¿ywane jako wkompilowane warto¶ci domy¶lne
dla programu wwwoffle.

/*+ Domy¶lny numer portu u¿ywany przez demona http proxy. +*/
#define DEF_HTTP_PORT 8080

/*+ Domy¶lny numer portu u¿ywany do kontroli WWWOFFLE. +*/
#define DEF_WWWOFFLE_PORT 8081

/*+ Domy¶lny katalog spool. +*/
#define DEF_SPOOL "/var/spool/wwwoffle"

/*+ Domy¶lny katalog pliku konfiguracji. +*/
#define DEF_CONF "/var/spool/wwwoffle"


Nastêpne cztery opcje ograniczj± liczbê po³±czeñ, które wwwoffled zaakceptuje w
tym samym czasie oraz liczbê serwerów, które zostan± rozwidlone w odpowiedzi na
to. Ca³kowita liczba MAX_SERVERS zawiera MAX_FETCH_SERVERS kiedy uruchomiony
jest 'wwwoffle -fetch'. Opcje te s± w wwwoffle.conf, ale absolutne warto¶ci
maksymalne mog± zostaæ zmienione tutaj jako warto¶ci domy¶lne.

/*+ Absolutna maksymalna liczba serwerów do rozwidlenia w ca³o¶ci. +*/
#define MAX_SERVERS 64
/*+ Domy¶lna ca³kowita liczba serwerów do rozwidlenia. +*/
#define DEF_MAX_SERVERS 8

/*+ Absolutna maksymalna liczba serwerów do rozwidlenia dla pobierania
    poprzednio ¿±danych stron. +*/
#define MAX_FETCH_SERVERS 48
/*+ Domy¶lna liczba serwerów do rozwidlenia dla pobierania stron. +*/
#define DEF_MAX_FETCH_SERVERS 4


Nastêpna opcja jest liczb± katalogów poprzednich razów, które tworzon± historiê
pobranych stron podczas ostatnich po³±czeñ. Je¶li ta liczba zostaje zmieniona,
wymagana jest wtedy edycja pliku
/var/spool/wwwoffle/html/messages/IndexLastTime-Tail.html, poprzez dodanie ³±czy
do tych katalogów.

/*+ Liczba tworzonych katalogów poprzedniego razu (historia ostatnich
    po³±czeñ). +*/
#define NUM_PREVTIME_DIR 3


Nastêpna jest rozmiarem bufora, który jest u¿ywany podczas odczytu danych z
bufora lub z gniazdka sieciowego.

/*+ Rozmiar bufora w pamiêci u¿ywanego podczas odczytu z bufora dyskowego lub gniazdka. +*/
#define READ_BUFFER_SIZE 1024


Nastêpne dwie ustalaj± prawa dostêpu, które s± u¿ywane podczas tworzenia
katalogów i plików w buforze (Nie zapomnij poprzedziæ ich '0', bo s± to
liczby ósemkowe).

/*+ Domy¶lne prawa dostêpu podczas tworzenia katalogów. +*/
#define DEF_DIR_PERM  0755
/*+ Domy¶lne prawa dostêpu przy tworzeniu plików. +*/
#define DEF_FILE_PERM 0644
